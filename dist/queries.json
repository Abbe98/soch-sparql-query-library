[{"title": "Basic Query Performance Tutorial", "tags": ["meta", "tutorial"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\nPREFIX text: <http://jena.apache.org/text#>\n\nSELECT ?item ?label WHERE {\n  # If you are querying entities allways limit your query to tripples of the entity type\n  # this way you avoid running your queries over other SOCH classes such as Context and ItemDescription\n  ?item a soch:Entity .\n  \n  # If you can limit your result even more before preforming a text or spatial search do so\n  ?item soch:itemType <http://kulturarvsdata.se/resurser/EntityType#object>;\n  \n    # Now let's not use SPARQL's built in REGEX() function to make free text searches\n    # instead we can use a text search property function which runs on a prebuilt text index\n    text:query (soch:itemLabel 'Fisk') ;\n      soch:itemLabel ?label\n}\n"}, {"title": "Count unique itemColor values", "tags": ["color"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?color (COUNT(?color) AS ?count) WHERE {\n  ?item soch:itemColor ?color .\n}\nGROUP BY ?color\nORDER BY DESC(?count)\n"}, {"title": "Find items without itemLabel", "tags": ["data quality", "meta"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?item WHERE {\n  ?item a soch:Entity .\n  FILTER NOT EXISTS{ ?item soch:itemLabel ?label . }\n}\n"}, {"title": "Get all SOCH Classes", "tags": ["meta"], "body": "PREFIX owl: <http://www.w3.org/2002/07/owl#>\n\nSELECT DISTINCT * WHERE {\n  ?class a owl:Class .\n  FILTER(STRSTARTS(STR(?class), 'http://kulturarvsdata.se/ksamsok#'))\n}\n"}, {"title": "Get all SOCH Object Properties", "tags": ["meta"], "body": "PREFIX owl: <http://www.w3.org/2002/07/owl#>\n\nSELECT DISTINCT ?property WHERE {\n  ?property a owl:ObjectProperty .\n}\n"}, {"title": "Get all References: Kungsh\u00f6garna", "tags": ["monuments", "fmis", "references"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\nPREFIX fmis: <http://kulturarvsdata.se/raa/fmi/>\n\nSELECT ?refs WHERE {\n  fmis:10028201230001 soch:itemDescription ?description_node .\n  ?description_node soch:type \"Referenser\" .\n  ?description_node soch:desc ?refs .\n}\n"}, {"title": "Get Items with an Image Media Type", "tags": ["mediatype"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?item WHERE {\n  ?item soch:image ?image .\n  ?image soch:mediaType ?mediaType . \n  FILTER REGEX(STR(?mediaType), \"image\")\n}\n"}, {"title": "Get the Wikidata URI for The battle of Poltava by SOCH URI", "tags": ["wikidata", "federated"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT ?wd_item WHERE {\n  BIND(<http://kulturarvsdata.se/LSH/events/1630> AS ?poltava)\n  BIND(REPLACE(STR(?poltava), 'http://kulturarvsdata.se/', '') AS ?wd_soch)\n  \n  SERVICE <https://query.wikidata.org/bigdata/namespace/wdq/sparql> {\n    ?wd_item wdt:P1260 ?wd_soch .\n  }\n}\n"}, {"title": "Get items described by the Swedish Wikipedia article about The battle of Poltava", "tags": ["wikipedia", "events"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?item WHERE {\n  ?item soch:isDescribedBy <http://sv.wikipedia.org/wiki/Slaget_vid_Poltava>\n}\n"}, {"title": "Items with more than 20 keywords", "tags": ["meta", "keywords"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?item (COUNT(?keyword) AS ?c) WHERE {\n  ?item soch:itemKeyWord ?keyword\n}\n\nGROUP BY ?item\nHAVING(?c > 20)\n"}, {"title": "Media License Usage", "tags": ["license"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?license (COUNT(?license) AS ?count) WHERE {\n  ?item soch:mediaLicenseUrl ?license\n}\nGROUP BY ?license\n"}, {"title": "Get Items with Images from Uppsala Museum without License", "tags": ["license"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT DISTINCT ?item WHERE {\n  ?item soch:serviceOrganization> \"upmu\" .\n  ?item soch:image ?image .\n  FILTER NOT EXISTS { ?image soch:mediaLicenseUrl ?license }\n}\n"}, {"title": "Summarize usage of Media Types", "tags": ["mediatype"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\n\nSELECT ?mediaType (COUNT(?mediaType) AS ?count) WHERE {\n  ?item soch:mediaType ?mediaType .\n}\nGROUP BY ?mediaType\nORDER BY DESC(?count)\n"}, {"title": "Persons(name, title, birth and death date) from the Royal Armorys persons database", "tags": ["lsh", "persons"], "body": "PREFIX soch: <http://kulturarvsdata.se/ksamsok#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\n\nSELECT DISTINCT ?short_id ?label ?title ?fromTime ?toTime WHERE {\n  ?entity a soch:Entity .\n  ?entity soch:itemType <http://kulturarvsdata.se/resurser/EntityType#person> .\n\n  ?entity soch:itemLabel ?label .\n  OPTIONAL { ?entity foaf:title ?title } .\n  OPTIONAL {\n    ?entity soch:context ?context .\n    ?context soch:contextSuperType <http://kulturarvsdata.se/resurser/ContextSuperType#create> .\n    ?context soch:fromTime ?fromTime .\n  }\n  OPTIONAL {\n    ?entity soch:context ?context .\n    ?context soch:contextSuperType <http://kulturarvsdata.se/resurser/ContextSuperType#cease> .\n    ?context soch:toTime ?toTime .\n  }\n\n  BIND(REPLACE(STR(?entity), 'http://kulturarvsdata.se/', '') AS ?short_id) .\n}\n"}, {"title": "Was Charles XII of Sweden present at the Capture of Daugavgr\u012bva", "tags": ["ask", "events"], "body": "PREFIX crm: <http://www.cidoc-crm.org/rdfs/cidoc-crm#>\n\nASK {\n  <http://kulturarvsdata.se/LSH/agents/16906> crm:P12B.was_present_at <http//:kulturarvsdata.se/LSH/events/3488>\n}\n"}]